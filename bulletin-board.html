<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TODO React App</title>
    <script src="node_modules/react/dist/react.js"></script>
    <script src="node_modules/react-dom/dist/react-dom.js"></script>
    <!-- Add slow but in-browser transpiling. Version 6 and above will not work this way -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.38/browser.js"></script>
    <link rel="stylesheet" type="text/css" href="bulletin-board.css">
</head>
<body>
    <div id="react-container"></div>

    <script type="text/babel">
        var Note = React.createClass({
            getInitialState() {
                return {
                    editing: false,
                    remove: false,
                    noteText: "check"
                };
            },
            edit() {
                this.setState({editing: true});
            },
            save() {
                this.setState({
                    editing: false,
                    noteText: this.refs.newText.value
                });
            },
            remove() {
                this.setState({remove: true});
            },
            renderForm() {
                return (
                        <div className="note">
                            <textarea ref="newText"></textarea>
                            <button onClick={this.save}>Save</button>
                        </div>
                );
            },
            renderDisplay() {
                return (
                        <div className="note">
                            <p>{this.props.children}</p>
                            <span>
                                <button onClick={this.edit}>EDIT</button>
                                <button onClick={this.remove}>X</button>
                            </span>
                        </div>
                )
            },
            render() {
                return (this.state.editing) ? this.renderForm() : this.renderDisplay();
            }
        });

        ReactDOM.render(
                <Note>Hello World</Note>,
                document.getElementById('react-container')
        )
    </script>
</body>
</html>